// Generated by CoffeeScript 1.11.1
(function() {
  var showColor;

  showColor = function(c) {
    console.log('color: ', c);
    return $('#main').css({
      backgroundColor: "rgba(" + c.r + "," + c.g + "," + c.b + "," + c.a + ")"
    });
  };

  $(function() {
    var cas, cbs, cgs, color0, crs, rgbas;
    crs = eventStream('midi', 'recv:nanoKONTROL2:3').map(function(v) {
      return {
        r: Math.round(v * 255)
      };
    });
    cgs = eventStream('midi', 'recv:nanoKONTROL2:4').map(function(v) {
      return {
        g: Math.round(v * 255)
      };
    });
    cbs = eventStream('midi', 'recv:nanoKONTROL2:5').map(function(v) {
      return {
        b: Math.round(v * 255)
      };
    });
    cas = eventStream('midi', 'recv:nanoKONTROL2:2').map(function(v) {
      return {
        a: v
      };
    });
    color0 = {
      r: 255,
      g: 255,
      b: 255,
      a: 1
    };
    rgbas = h.merge([crs, cgs, cbs, cas]).scan(color0, h.flip(h.extend));
    return rgbas.doto(showColor).resume();
  });

}).call(this);
